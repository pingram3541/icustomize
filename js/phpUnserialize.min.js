!function(r,n){"use strict";"function"==typeof define&&define.amd?define([],n):"object"==typeof exports?module.exports=n():r.phpUnserialize=n()}(this,function(){"use strict";return function(r){var n,e=0,t=[],u=0,s=function(){var n=r.indexOf(":",e),t=r.substring(e,n);return e=n+2,parseInt(t,10)},a=function(){var n=r.indexOf(";",e),t=r.substring(e,n);return e=n+1,parseInt(t,10)},i=function(){var r=a();return t[u++]=r,r},o=function(){var n=r.indexOf(";",e),s=r.substring(e,n);return e=n+1,s=parseFloat(s),t[u++]=s,s},c=function(){var n=r.indexOf(";",e),s=r.substring(e,n);return e=n+1,s="1"===s?!0:!1,t[u++]=s,s},f=function(){for(var n,t,u=s(),a=0,i=0;u>i;)n=r.charCodeAt(e+a++),127>=n?i++:i+=n>2047?3:2;return t=r.substring(e,e+a),e+=a+2,t},v=function(){var r=f();return t[u++]=r,r},d=function(){var n=r.charAt(e);return e+=2,n},p=function(){var r=d();switch(r){case"i":return a();case"s":return f();default:throw{name:"Parse Error",message:"Unknown key type '"+r+"' at position "+(e-2)}}},l=function(){var r,a,i,o,c,f=s(),v=[],d={},l=v,h=u++;for(t[h]=l,i=0;f>i;i++)if(r=p(),a=n(),l===v&&parseInt(r,10)===i)v.push(a);else{if(l!==d){for(o=0,c=v.length;c>o;o++)d[o]=v[o];l=d,t[h]=l}d[r]=a}return e++,l},h=function(r,n){var e,t,u;return"\x00"!==r.charAt(0)?r:(u=r.indexOf("\x00",1),u>0?(e=r.substring(1,u),t=r.substr(u+1),"*"===e?t:n===e?t:e+"::"+t):void 0)},b=function(){var r,a,i,o,c={},v=u++,d=f();for(t[v]=c,r=s(),o=0;r>o;o++)a=h(p(),d),i=n(),c[a]=i;return e++,c},g=function(){var r=f(),n=f();return{__PHP_Incomplete_Class_Name:r,serialized:n}},x=function(){var r=a(),n=t[r-1];return t[u++]=n,n},m=function(){var r=a();return t[r-1]},w=function(){var r=null;return t[u++]=r,r};return(n=function(){var r=d();switch(r){case"i":return i();case"d":return o();case"b":return c();case"s":return v();case"a":return l();case"O":return b();case"C":return g();case"r":return x();case"R":return m();case"N":return w();default:throw{name:"Parse Error",message:"Unknown type '"+r+"' at position "+(e-2)}}})()}});